{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/abi/TOKEN_BRIDGE.json"],"sourcesContent":["{\"abi\":[{\"type\":\"constructor\",\"inputs\":[{\"name\":\"_tokenGateway\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"_feeToken\",\"type\":\"address\",\"internalType\":\"address\"}],\"stateMutability\":\"nonpayable\"},{\"type\":\"function\",\"name\":\"bridgeTokens\",\"inputs\":[{\"name\":\"token\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"symbol\",\"type\":\"string\",\"internalType\":\"string\"},{\"name\":\"amount\",\"type\":\"uint256\",\"internalType\":\"uint256\"},{\"name\":\"recipient\",\"type\":\"address\",\"internalType\":\"address\"},{\"name\":\"destChain\",\"type\":\"bytes\",\"internalType\":\"bytes\"}],\"outputs\":[],\"stateMutability\":\"payable\"},{\"type\":\"function\",\"name\":\"feeToken\",\"inputs\":[],\"outputs\":[{\"name\":\"\",\"type\":\"address\",\"internalType\":\"address\"}],\"stateMutability\":\"view\"},{\"type\":\"function\",\"name\":\"tokenGateway\",\"inputs\":[],\"outputs\":[{\"name\":\"\",\"type\":\"address\",\"internalType\":\"contract ITokenGateway\"}],\"stateMutability\":\"view\"}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 3, "column": 924}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/polkadot-codecamp-challenges/1-xcm-hyperbridge/frontend/hooks/useBridge.ts"],"sourcesContent":["import { useState } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport TOKEN_BRIDGE from \"../abi/TOKEN_BRIDGE.json\"; // Đường dẫn ABI\r\n\r\nconst TOKEN_BRIDGE_CONTRACT_ADDRESS = \"0x1e8e474701bbb119017c5659266087fa20470a77dc42ce1a127f645646c3e090\"; // Thay bằng địa chỉ \r\n\r\nexport function useBridge() { \r\n    const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [receipt, setReceipt] = useState<any>(null);\r\n\r\n  const bridgeTokens = async ({\r\n    token,\r\n    symbol,\r\n    amount,\r\n    destChainId,\r\n  }: {\r\n    token: string;\r\n    symbol: string;\r\n    amount: string;\r\n    destChainId: number;\r\n  }) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Validate amount\r\n      if (!amount || amount === \"\" || isNaN(Number(amount))) {\r\n        throw new Error(\"Please enter a valid amount\");\r\n      }\r\n\r\n      // Kết nối với ví người dùng\r\n      const provider = new ethers.BrowserProvider(window.ethereum);\r\n      const signer = await provider.getSigner();\r\n\r\n      // Tạo instance contract\r\n      const contract = new ethers.Contract(\r\n        TOKEN_BRIDGE_CONTRACT_ADDRESS,\r\n        TOKEN_BRIDGE.abi,\r\n        signer\r\n      );\r\n\r\n      // Lấy địa chỉ người nhận\r\n      const recipient = await signer.getAddress();\r\n\r\n      // Chuyển amount sang BigNumber\r\n      const amountParsed = ethers.parseUnits(amount, 18);\r\n\r\n      // Chuyển destChainId sang bytes\r\n      const destChain = ethers.toUtf8Bytes(`EVM-${destChainId}`);\r\n\r\n      // Gửi giao dịch\r\n      const tx = await contract.bridgeTokens(\r\n        token,\r\n        symbol,\r\n        amountParsed,\r\n        recipient,\r\n        destChain,\r\n        { value: 0 }\r\n      );\r\n\r\n      const txReceipt = await tx.wait();\r\n      setReceipt(txReceipt);\r\n\r\n      return txReceipt;\r\n    } catch (err: any) {\r\n      setError(err.message || \"Unknown error\");\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { bridgeTokens, loading, error, receipt };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA,qKAAqD,gBAAgB;;;;;AAErE,MAAM,gCAAgC,sEAAsE,qBAAqB;AAE1H,SAAS;;IACZ,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAM;IAE5C,MAAM,eAAe,OAAO,EAC1B,KAAK,EACL,MAAM,EACN,MAAM,EACN,WAAW,EAMZ;QACC,IAAI;YACF,WAAW;YACX,SAAS;YAET,kBAAkB;YAClB,IAAI,CAAC,UAAU,WAAW,MAAM,MAAM,OAAO,UAAU;gBACrD,MAAM,IAAI,MAAM;YAClB;YAEA,4BAA4B;YAC5B,MAAM,WAAW,IAAI,6LAAM,CAAC,eAAe,CAAC,OAAO,QAAQ;YAC3D,MAAM,SAAS,MAAM,SAAS,SAAS;YAEvC,wBAAwB;YACxB,MAAM,WAAW,IAAI,6LAAM,CAAC,QAAQ,CAClC,+BACA,sGAAY,CAAC,GAAG,EAChB;YAGF,yBAAyB;YACzB,MAAM,YAAY,MAAM,OAAO,UAAU;YAEzC,+BAA+B;YAC/B,MAAM,eAAe,6LAAM,CAAC,UAAU,CAAC,QAAQ;YAE/C,gCAAgC;YAChC,MAAM,YAAY,6LAAM,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,aAAa;YAEzD,gBAAgB;YAChB,MAAM,KAAK,MAAM,SAAS,YAAY,CACpC,OACA,QACA,cACA,WACA,WACA;gBAAE,OAAO;YAAE;YAGb,MAAM,YAAY,MAAM,GAAG,IAAI;YAC/B,WAAW;YAEX,OAAO;QACT,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;YACxB,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,OAAO;QAAE;QAAc;QAAS;QAAO;IAAQ;AACjD;GApEgB"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///D:/polkadot-codecamp-challenges/1-xcm-hyperbridge/frontend/app/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport './globals.css'\r\nimport { MetaMaskButton } from \"../components/MetamaskButton\";\r\nimport { useBridge } from \"../hooks/useBridge\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Home() {\r\n  const { bridgeTokens, loading, error } = useBridge();\r\n  const [amount, setAmount] = useState(\"\");\r\n\r\n  const onButtonClick = async () => {\r\n    if (!amount || isNaN(Number(amount))) return;\r\n\r\n    const token = \"0xCDEC43D8c276F14466f196D61453A314bc28c0ac\";\r\n    const symbol = \"USDC\";\r\n    const destChainId = 11155111;\r\n\r\n    try {\r\n      await bridgeTokens({ token, symbol, amount, destChainId });\r\n      alert(\"Giao dịch đã được gửi!\");\r\n    } catch (err) {\r\n      console.error(\"Bridge error:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-[#e0f7fa] flex flex-col items-center p-6 md:p-12 font-sans text-black\">\r\n      {/* ... Phần Header giữ nguyên ... */}\r\n\r\n      <div className=\"bg-white border-[3px] border-black rounded-[32px] shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 md:p-8 w-full max-w-xl\">\r\n        \r\n        {/* ... Phần Network From/To giữ nguyên ... */}\r\n\r\n        {/* AMOUNT Section */}\r\n        <div className=\"border-2 border-black rounded-2xl p-4 mb-8 bg-white\">\r\n          <p className=\"text-[10px] font-black text-black uppercase mb-2\">Amount</p>\r\n          <div className=\"flex items-center justify-between gap-4\">\r\n            <div className=\"flex items-center gap-2 border-2 border-black rounded-xl px-3 py-2 bg-gray-50 min-w-[120px]\">\r\n               <div className=\"w-5 h-5 bg-blue-500 rounded-full border border-black text-[8px] text-white flex items-center justify-center font-bold\">$</div>\r\n               <span className=\"font-black text-sm\">USDC</span> \r\n               <span className=\"ml-auto\">▼</span>\r\n            </div>\r\n            <input \r\n              type=\"number\" \r\n              placeholder=\"0.00\" \r\n              className=\"text-3xl font-black text-right outline-none w-full bg-transparent placeholder-gray-300\"\r\n              // CẬP NHẬT TẠI ĐÂY\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n            />\r\n          </div>\r\n          {/* ... Phần Balance giữ nguyên ... */}\r\n        </div>\r\n\r\n        {/* Hiển thị lỗi nếu có */}\r\n        {error && <p className=\"text-red-500 text-xs mb-4 font-bold uppercase\">Error: {error}</p>}\r\n\r\n        {/* ACTION Button */}\r\n        <button \r\n          className=\"w-full bg-[#fff176] border-[3px] border-black py-4 rounded-2xl \r\n          font-black text-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] \r\n          hover:translate-y-1 hover:shadow-none transition-all uppercase tracking-widest disabled:bg-gray-300\"\r\n          onClick={onButtonClick} \r\n          disabled={loading || !amount || Number(amount) <= 0}\r\n        >\r\n          {loading ? \"Processing...\" : \"Bridge Now\"}\r\n        </button>\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAIA;AACA;;;AALA;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAA,kIAAS;IAClD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,MAAM,gBAAgB;QACpB,IAAI,CAAC,UAAU,MAAM,OAAO,UAAU;QAEtC,MAAM,QAAQ;QACd,MAAM,SAAS;QACf,MAAM,cAAc;QAEpB,IAAI;YACF,MAAM,aAAa;gBAAE;gBAAO;gBAAQ;gBAAQ;YAAY;YACxD,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;kBAGd,cAAA,6LAAC;YAAI,WAAU;;8BAKb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;sCAAmD;;;;;;sCAChE,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACZ,6LAAC;4CAAI,WAAU;sDAAwH;;;;;;sDACvI,6LAAC;4CAAK,WAAU;sDAAqB;;;;;;sDACrC,6LAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;;8CAE7B,6LAAC;oCACC,MAAK;oCACL,aAAY;oCACZ,WAAU;oCACV,mBAAmB;oCACnB,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;gBAO9C,uBAAS,6LAAC;oBAAE,WAAU;;wBAAgD;wBAAQ;;;;;;;8BAG/E,6LAAC;oBACC,WAAU;oBAGV,SAAS;oBACT,UAAU,WAAW,CAAC,UAAU,OAAO,WAAW;8BAEjD,UAAU,kBAAkB;;;;;;;;;;;;;;;;;AAKvC;GAhEwB;;QACmB,kIAAS;;;KAD5B"}}]
}